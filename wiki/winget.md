# winget
> windows

[winget](https://github.com/microsoft/winget-cli) — официальный пакетный
менеджер для Windows, предоставляющий возможность искать, устанавливать,
обновлять и удалять программы, используя консольный интерфейс.

![Демонстрация установки программ при помощи консольного интерфейса
winget.](/media/winget.jpg)

## Применение

На всех операционных системах получение программ происходит через магазины
приложений (также будем их называть репозиториями). Так как они являются общим
каталогом, то очень удобно искать нужные приложения и обновлять их.

На Windows же, несмотря на наличие Microsoft Store, установщики, найденные в
интернете, являются основным способом получения приложений. Это менее удобно и
добавляет риски установки поддельных программ.

winget решает эту проблему, добавляя репозиторий со ссылками на установщики
программ. Пользователю остаётся лишь написать название приложения, чтобы
автоматически установить его.

Распространённой проблемой в последних версиях Windows является установка
браузера, которой препятствует сам Microsoft Edge.

При помощи winget, можно обойти эту систему и установить браузер одной
консольной командой:

`winget install Mozilla.Firefox`

## Установка

winget должен быть встроен в последние версии Windows 10 (1709 и позднее) и 11 в
составе установщика приложений. Убедитесь, что он
[обновлён](https://www.microsoft.com/p/app-installer/9nblggh4nns1#activetab=pivot:overviewtab),
так как после установки Windows может быть предустановлена старая версия.

> [info]
> Из [справки Microsoft](https://learn.microsoft.com/ru-ru/windows/package-manager/winget/#install-winget):
>
> *Средство winget не будет доступно, пока вы не вошли в Windows в качестве
> пользователя впервые <...>. Если вы недавно вошли в систему как пользователь
> впервые и обнаружите, что winget еще недоступен, вы можете открыть PowerShell
> и ввести следующую команду <...>:
> `Add-AppxPackage -RegisterByFamilyName -MainPackage Microsoft.DesktopAppInstaller_8wekyb3d8bbwe`*

## Устройство

Репозиторий winget хранит манифесты, содержащие ссылки на установщики программ и
скрипты установки. Он поддерживается
[сообществом](https://github.com/microsoft/winget-pkgs) — каждый может добавить
отсутствующие программы. Манифесты имеют удобное название `Компание.Приложение`.

Скрипты установки обычно направлены на "тихую" установку и автоматическую
настройку.

Установленные классическим способом приложения могут быть уже доступны для
управления ими в winget.

Также winget может устанавливать приложения из Microsoft Store.

## Команды

Типичное использование winget выглядит так:

1. Поиск нужного приложения: `winget search <запрос>`
2. Установка приложения по его идентификатору: `winget install
<Компания.Приложение>`
3. Обновление всех приложений: `winget update --all`

> [ok] **Совет:** Можно пропустить поиск приложения и написать запрос в команду
> `install`. Если результат поиска единственный — приложение будет установлено,
> если нет — будут предложены варианты.

Для получения помощи, необходимо использовать параметр `--help`
или не закончить команду.

### Поиск

`winget search <запрос> [параметры]`

Ищет приложения в доступных источниках. Принимаются параметры для сортировки
и фильтрации результатов.

### Установка

`winget install <запрос(ы...)> [параметры]`

Устанавливает указанные приложения.

Принимаются либо уникальные названия приложений, либо их идентификаторы в
формате `Компания.Приложение`.

Параметры:

- `-i` — интерактивная (классическая) установка
- `-h` — автоматическая (тихая) установка
- `-l` — путь установки (если поддерживается)
- `-v`, `--version` — указать версию приложения. По умолчанию последняя.

### Удаление

`winget uninstall <запрос(ы...)> [параметры]`

Параметры:

- `-i` — интерактивное (классическое) удаление
- `-h` — автоматическое (тихое) удаление

### Обновление

`winget update <запрос(ы...)> [параметры]`

Данная команда без параметров отобразит список доступных обновлений.

Параметры:

- `-i` — интерактивное (классическое) обновление
- `-h` — автоматическое (тихое) обновление
- `-l` — путь установки (если поддерживается)
- `-r`, `--all` — обновить все пакеты до последней версии

### Список

`winget list`

Эта команда отображает список приложений, установленных на компьютере в
настоящий момент. Также отображается доступность обновлений.

Вы можете использовать параметры для сортировки и фильтрации результатов.

### Экспорт и импорт

При переустановке системы хотелось бы иметь список приложений для
автоматической установки.

Вы можете создать такой список при помощи команды `export`:

`winget export <путь_к_файлу>`

Затем, список можно импортировать командой `import`, и все приложения будут
установлены:

`winget import <путь_к_файлу>`

## Графический интерфейс

[WingetUI](https://www.marticliment.com/wingetui) — неофициальный графический
интерфейс для управления приложениями в Windows. С помощью него вы сможете
искать, устанавливать, обновлять и удалять программы через пакетные менеджеры
winget, Scoop и Chocolatey.

WingetUI добавляет к winget графическую оболочку и дополнительные функции.
Имеется авто-обновление. Можно экспортировать установленные программы для
дальнейшего импорта после переустановки системы.

![Демонстрация программы WingetUI](/media/winget_ui.jpg)

## См. также

- [Документация на русском](https://learn.microsoft.com/ru-ru/windows/package-manager/winget)
(неаккуратный перевод)
- [Документация на английском](https://learn.microsoft.com/en-us/windows/package-manager/winget)
